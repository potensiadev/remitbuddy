[build]
  base = "frontend"
  # ✅ TypeScript 감지 완전 차단: 빌드 전에 tsconfig.json, next-env.d.ts 삭제
  command = "rm -f tsconfig.json next-env.d.ts && npm install && npm run build && npm run export"
  publish = "out"

[build.environment]
  NODE_ENV = "production"
  NEXT_TELEMETRY_DISABLED = "1"
  NEXT_DISABLE_TYPE_CHECK = "1"
  SKIP_TYPECHECK = "true"
  DISABLE_TS_CHECK = "true"

# SPA 라우팅 대응
[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200
