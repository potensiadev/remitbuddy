# ✅ Netlify 정적 배포 설정 (Next.js 14 대응 완전판)

[build]
  base = "frontend"
  command = "npm install && npm run build"
  publish = "out"

[build.environment]
  NODE_ENV = "production"
  NEXT_TELEMETRY_DISABLED = "1"
  NEXT_DISABLE_TYPE_CHECK = "1"
  SKIP_TYPECHECK = "true"
  DISABLE_TS_CHECK = "true"
  NPM_FLAGS = "--legacy-peer-deps"

# ⚠️ Netlify Next.js 플러그인 비활성화 (빌드 충돌 방지)
# [[plugins]]
#   package = "@netlify/plugin-nextjs"

# ✅ SPA 라우팅 대응
[[redirects]]
  from = "/*"
  to = "/index.html"
  status = "200"
