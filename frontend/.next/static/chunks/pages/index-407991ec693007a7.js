(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return l(2262)}])},2262:function(e,t,l){"use strict";let s;l.r(t),l.d(t,{__N_SSG:function(){return S},default:function(){return E}});var n=l(5893),r=l(7294),a=l(1798),o=l(1163),c={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let i=new Uint8Array(16),d=[];for(let e=0;e<256;++e)d.push((e+256).toString(16).slice(1));var g=function(e,t,l){if(c.randomUUID&&!t&&!e)return c.randomUUID();let n=(e=e||{}).random??e.rng?.()??function(){if(!s){if("undefined"==typeof crypto||!crypto.getRandomValues)throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");s=crypto.getRandomValues.bind(crypto)}return s(i)}();if(n.length<16)throw Error("Random bytes length must be >= 16");if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){if((l=l||0)<0||l+16>t.length)throw RangeError(`UUID byte range ${l}:${l+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[l+e]=n[e];return t}return function(e,t=0){return(d[e[t+0]]+d[e[t+1]]+d[e[t+2]]+d[e[t+3]]+"-"+d[e[t+4]]+d[e[t+5]]+"-"+d[e[t+6]]+d[e[t+7]]+"-"+d[e[t+8]]+d[e[t+9]]+"-"+d[e[t+10]]+d[e[t+11]]+d[e[t+12]]+d[e[t+13]]+d[e[t+14]]+d[e[t+15]]).toLowerCase()}(n)};let x=()=>{let e=localStorage.getItem("device_uuid");return e||(e=g(),localStorage.setItem("device_uuid",e)),e},u=()=>{let e=navigator.userAgent||navigator.vendor||window.opera;return/android/i.test(e)?"Android":/iPad|iPhone|iPod/.test(e)&&!window.MSStream?"iOS":/Windows/.test(e)?"Windows":/Macintosh|MacIntel|MacPPC|Mac68K/.test(e)?"MacOS":/Linux/.test(e)?"Linux":"Unknown"},m=e=>({vi:"VN",ko:"KR",en:"US"})[e]||"US",h=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=x(),s=u(),n=document.documentElement.lang||"en",r=m(n),a={uuid:l,lang:n,country:r,device:s,event:e,timestamp:new Date().toISOString(),...t};try{console.log("\uD83D\uDCCA Event logged:",a),await fetch("/api/log-event",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})}catch(e){console.error("Failed to log event:",e)}},p=()=>{h("clicked_cta")},f=()=>{h("compare_again")},b=e=>{h("clicked_provider",{provider:e})},w=e=>{h("sending_country_switched",{currency:e})},v="https://sendhome.onrender.com",y=e=>{let{className:t}=e;return(0,n.jsx)("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3,children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})},j=e=>{let{className:t}=e;return(0,n.jsxs)("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 16 16",stroke:"currentColor",children:[(0,n.jsx)("path",{strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",d:"M3.33301 8H12.6663"}),(0,n.jsx)("path",{strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",d:"M8 3.33331L12.6667 7.99998L8 12.6666"})]})},N=[{code:"VN",currency:"VND",name:"Vietnam",flag:"/images/flags/vn.png"},{code:"PH",currency:"PHP",name:"Philippines",flag:"/images/flags/ph.png"},{code:"KH",currency:"KHR",name:"Cambodia",flag:"/images/flags/kh.png"},{code:"MM",currency:"MMK",name:"Myanmar",flag:"/images/flags/mm.png"},{code:"TH",currency:"THB",name:"Thailand",flag:"/images/flags/th.png"},{code:"UZ",currency:"UZS",name:"Uzbekistan",flag:"/images/flags/uz.png"},{code:"ID",currency:"IDR",name:"Indonesia",flag:"/images/flags/id.png"},{code:"LK",currency:"LKR",name:"SriLanka",flag:"/images/flags/lk.png"},{code:"BD",currency:"BDT",name:"Bangladesh",flag:"/images/flags/bd.png"},{code:"NP",name:"Nepal",currency:"NPR",flag:"/images/flags/np.png"}],_={Hanpass:"hanpass","GMoney Trans":"gmoneytrans",GmoneyTrans:"gmoneytrans",E9Pay:"e9pay",Coinshot:"finshot",Cross:"cross","GME Remit":"gmeremit","JP Remit":"JRF",Wirebarley:"wirebarley",Moin:"moin"},D=e=>{let{providerData:t,isBest:l,currency:s,t:r}=e,{provider:a,recipient_gets:o,exchange_rate:c,fee:i}=t;return(0,n.jsxs)("a",{href:t.link,target:"_blank",rel:"noopener noreferrer",onClick:()=>{b(_[a]||a.toLowerCase())},className:"block w-full p-4 lg:p-6 mb-3 lg:mb-4 bg-white border rounded-xl lg:rounded-2xl shadow-sm transition-all duration-200 hover:scale-[1.02] hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 ".concat(l?"border-emerald-500 border-2":"border-slate-200"),children:[(0,n.jsxs)("div",{className:"flex justify-between items-start",children:[(0,n.jsx)("h3",{className:"text-xl lg:text-2xl font-bold text-slate-800",children:a}),l&&(0,n.jsx)("span",{className:"text-xs lg:text-sm font-semibold text-white bg-emerald-500 px-3 py-1 lg:px-4 lg:py-2 rounded-full",children:r("best_rate_badge")})]}),(0,n.jsxs)("div",{className:"mt-3 lg:mt-4",children:[(0,n.jsx)("p",{className:"text-sm lg:text-base text-slate-500",children:r("amount_to_receive")}),(0,n.jsxs)("p",{className:"text-2xl lg:text-3xl font-extrabold text-indigo-600",children:[Math.round(o).toLocaleString("en-US"),(0,n.jsx)("span",{className:"ml-2 text-xl lg:text-2xl font-bold text-slate-700",children:s})]})]}),(0,n.jsxs)("div",{className:"mt-3 lg:mt-4 text-xs lg:text-sm text-slate-500 flex flex-col lg:flex-row lg:items-center gap-1 lg:gap-0",children:[(0,n.jsxs)("span",{children:["100 ",s," = ",(100/c).toFixed(2)," KRW"]}),(0,n.jsx)("span",{className:"hidden lg:inline mx-2",children:"|"}),(0,n.jsxs)("span",{children:[r("fee"),": ",i.toLocaleString()," KRW"]})]})]})},k=e=>{let{setSelectedCountry:t,setShowDropdown:l,t:s,onCountryChange:r}=e;return(0,n.jsx)("div",{className:"absolute top-full right-0 mt-2 w-[280px] lg:w-[320px] h-auto max-h-[60vh] bg-white rounded-xl lg:rounded-2xl shadow-2xl border border-slate-100 flex flex-col overflow-hidden z-40",children:(0,n.jsx)("div",{className:"flex-1 overflow-y-auto",children:N.map(e=>(0,n.jsxs)("div",{className:"flex items-center gap-3 px-4 lg:px-6 py-3 lg:py-4 cursor-pointer hover:bg-gray-50 text-lg",onClick:()=>{t(e),l(!1),r(e)},children:[(0,n.jsx)("img",{src:e.flag,alt:"".concat(e.name," flag"),width:"28",height:"28",className:"rounded-full"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"font-bold text-sm lg:text-base text-slate-800",children:e.name}),(0,n.jsx)("div",{className:"text-gray-500 text-xs lg:text-sm",children:e.currency})]})]},e.code))})})};function C(e){let{queryParams:t,t:l,onCompareAgain:s}=e,[a,o]=(0,r.useState)([]),[c,i]=(0,r.useState)(!0),[d,g]=(0,r.useState)(null);(0,r.useEffect)(()=>{t.receive_country&&(async()=>{i(!0),g(null),o([]),console.log("\uD83D\uDD25 API Call - Query Params:",t);let e="".concat(v,"/api/getRemittanceQuote?receive_country=").concat(t.receive_country,"&receive_currency=").concat(t.receive_currency,"&send_amount=").concat(t.send_amount);console.log("\uD83C\uDFAF API URL:",e);try{let t=await fetch(e,{method:"GET",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!t.ok)throw Error("API Error: ".concat(t.status," - ").concat(t.statusText));let l=await t.json();console.log("✅ API Response:",l),l.results&&l.results.length>0?o(l.results):g("No exchange rate providers available")}catch(e){console.error("\uD83D\uDEA8 API Error:",e),g("API Error: ".concat(e.message))}finally{i(!1)}})()},[t]);let x=(0,r.useMemo)(()=>a&&0!==a.length?a[0]:null,[a]),u=()=>(0,n.jsxs)("div",{className:"w-full p-4 lg:p-6 mb-3 lg:mb-4 bg-white border border-slate-200 rounded-xl lg:rounded-2xl shadow-sm animate-pulse",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsx)("div",{className:"h-6 lg:h-8 bg-slate-300 rounded-md w-1/3"}),(0,n.jsx)("div",{className:"h-4 lg:h-6 bg-slate-300 rounded-md w-1/4"})]}),(0,n.jsx)("div",{className:"mt-4 lg:mt-6 h-8 lg:h-10 bg-slate-300 rounded-md w-1/2"}),(0,n.jsx)("div",{className:"mt-2 lg:mt-3 h-4 lg:h-5 bg-slate-300 rounded-md w-3/4"})]});return(0,n.jsxs)("div",{className:"w-full",children:[(0,n.jsxs)("div",{className:"bg-white/80 backdrop-blur-lg p-4 lg:p-6 rounded-2xl lg:rounded-3xl shadow-lg mb-6 lg:mb-8 sticky top-4 z-10",children:[(0,n.jsx)("h2",{className:"text-sm lg:text-base font-semibold text-slate-500",children:l("real_time_summary")}),(0,n.jsxs)("p",{className:"text-xl lg:text-2xl font-bold text-slate-800 flex items-center",children:[parseInt(t.send_amount).toLocaleString()," KRW → ",t.receive_country]}),c&&(0,n.jsx)("p",{className:"text-xs lg:text-sm text-indigo-500 mt-1 animate-pulse",children:l("loading_text")})]}),d&&(0,n.jsxs)("div",{className:"text-center p-8 lg:p-12 bg-red-50 border border-red-200 rounded-lg lg:rounded-2xl",children:[(0,n.jsx)("h3",{className:"text-xl lg:text-2xl font-bold text-red-700",children:l("error_title")}),(0,n.jsx)("p",{className:"text-red-600 mt-2 text-sm lg:text-base",children:d}),(0,n.jsxs)("div",{className:"mt-4 lg:mt-6 space-x-2 lg:space-x-4",children:[(0,n.jsx)("button",{onClick:()=>window.location.reload(),className:"px-4 lg:px-6 py-2 lg:py-3 bg-red-600 text-white rounded-lg lg:rounded-xl hover:bg-red-700 transition text-sm lg:text-base",children:l("refresh")}),(0,n.jsx)("button",{onClick:()=>{console.log("\uD83D\uDD27 Debug Info:"),console.log("API Base URL:",v),console.log("Current URL:",window.location.href),console.log("User Agent:",navigator.userAgent)},className:"px-4 lg:px-6 py-2 lg:py-3 bg-blue-600 text-white rounded-lg lg:rounded-xl hover:bg-blue-700 transition text-sm lg:text-base",children:l("debug_info")})]})]}),(0,n.jsx)("div",{className:"space-y-3 lg:space-y-4",children:c?[,,,,,].fill(0).map((e,t)=>(0,n.jsx)(u,{},t)):a.map(e=>(0,n.jsx)(D,{providerData:e,isBest:x&&e.provider===x.provider,currency:t.receive_currency,t:l},e.provider))}),(0,n.jsx)("button",{onClick:s,className:"mt-8 lg:mt-12 w-full bg-slate-200 text-slate-700 font-bold py-3 lg:py-4 px-4 lg:px-6 rounded-lg lg:rounded-xl hover:bg-slate-300 focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2 transition text-base lg:text-lg",children:l("compare_again_button")})]})}var S=!0;function E(){let{t:e}=(0,a.$G)("common"),t=(0,o.useRouter)(),[l,s]=(0,r.useState)(!1),[c,i]=(0,r.useState)({}),d=(0,r.useRef)(null),[g,x]=(0,r.useState)("1000000"),[u,m]=(0,r.useState)(!1),[h,b]=(0,r.useState)(N[0]),v=(0,r.useRef)(null);return(0,r.useEffect)(()=>{console.log("\uD83C\uDF0D Language:",t.locale),console.log("\uD83D\uDD17 Current URL:",window.location.href)},[t.locale]),(0,r.useEffect)(()=>{function e(e){v.current&&!v.current.contains(e.target)&&m(!1)}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[v]),(0,r.useEffect)(()=>{l&&d.current&&d.current.scrollIntoView({behavior:"smooth",block:"start"})},[l]),(0,r.useEffect)(()=>{h&&g&&l&&i({receive_country:h.name,receive_currency:h.currency,send_amount:g})},[g,h,l]),(0,n.jsx)("div",{className:"bg-[#F5F7FA] min-h-screen font-sans flex flex-col items-center pt-8 px-4 lg:px-8",children:(0,n.jsxs)("div",{className:"w-full max-w-sm lg:max-w-6xl xl:max-w-7xl mx-auto",children:[(0,n.jsxs)("header",{className:"w-full flex items-center mb-10 lg:mb-16 pl-2",children:[(0,n.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"lg:w-8 lg:h-8",children:[(0,n.jsx)("path",{d:"M5 20L19 12L5 4V20Z",fill:"url(#paint0_linear_header_page)"}),(0,n.jsx)("defs",{children:(0,n.jsxs)("linearGradient",{id:"paint0_linear_header_page",x1:"5",y1:"4",x2:"25",y2:"24",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopColor:"#4F46E5"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#06B6D4"})]})})]}),(0,n.jsx)("span",{className:"text-2xl lg:text-4xl font-extrabold text-[#1E293B] ml-2 lg:ml-4",children:"SendHome"})]}),(0,n.jsx)("main",{className:"w-full",children:(0,n.jsxs)("div",{className:"w-full lg:grid lg:grid-cols-2 lg:gap-12 xl:gap-16",children:[(0,n.jsx)("div",{className:"w-full lg:sticky lg:top-8 lg:h-fit",children:(0,n.jsxs)("div",{className:"bg-white rounded-[28px] lg:rounded-[32px] shadow-2xl shadow-slate-200/60 p-6 sm:p-8 lg:p-12 flex flex-col items-center",children:[(0,n.jsx)("h1",{className:"text-center text-slate-800 text-3xl sm:text-4xl lg:text-5xl xl:text-6xl font-extrabold mb-8 lg:mb-12 leading-tight",dangerouslySetInnerHTML:{__html:e("title")}}),(0,n.jsxs)("form",{onSubmit:e=>{e.preventDefault(),p(),h&&g&&(i({receive_country:h.name,receive_currency:h.currency,send_amount:g}),s(!0))},className:"w-full",children:[(0,n.jsx)("label",{className:"w-full text-left text-sm lg:text-base font-semibold text-slate-800 mb-2 lg:mb-3 block",children:e("you_send")}),(0,n.jsxs)("div",{className:"relative w-full mb-5 lg:mb-8",ref:v,children:[(0,n.jsx)("input",{type:"text",value:parseInt(g||"0").toLocaleString(),onChange:e=>{let t=e.target.value.replace(/,/g,"");!isNaN(t)&&t.length<=10&&x(t)},className:"w-full h-16 lg:h-20 rounded-xl lg:rounded-2xl bg-[#F8FAFC] border-2 border-[#E2E8F0] px-4 lg:px-6 text-2xl lg:text-3xl font-bold focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none pr-32 lg:pr-40"}),(0,n.jsxs)("div",{className:"absolute right-2 lg:right-3 top-2 lg:top-2.5",children:[(0,n.jsxs)("button",{type:"button",className:"flex items-center justify-between gap-2 lg:gap-3 px-3 lg:px-4 h-12 lg:h-16 bg-white border border-[#E2E8F0] rounded-lg lg:rounded-xl hover:bg-slate-50 transition-colors",onClick:()=>m(e=>!e),children:[(0,n.jsx)("img",{src:h.flag,alt:"".concat(h.name," flag"),width:28,height:28,className:"rounded-full lg:w-8 lg:h-8"}),(0,n.jsx)("span",{className:"mx-1 lg:mx-2 font-semibold text-slate-800 text-sm lg:text-base",children:h.currency}),(0,n.jsx)(y,{className:"h-4 w-4 lg:h-5 lg:w-5 text-slate-600"})]}),u&&(0,n.jsx)(k,{setSelectedCountry:b,setShowDropdown:m,t:e,onCountryChange:e=>{console.log("\uD83C\uDFC1 Country changed to:",e.name),w(e.currency),g&&(i({receive_country:e.name,receive_currency:e.currency,send_amount:g}),s(!0))}})]})]}),(0,n.jsx)("div",{className:"text-slate-500 text-center text-base lg:text-lg mb-6 lg:mb-10",children:e("subtitle")}),(0,n.jsxs)("div",{className:"relative pt-10 lg:pt-16",children:[(0,n.jsx)("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-auto whitespace-nowrap",children:(0,n.jsxs)("div",{className:"relative bg-[#FEF3C7] rounded-full py-1.5 lg:py-2 px-4 lg:px-6",children:[(0,n.jsxs)("span",{className:"flex items-center text-slate-600 font-semibold text-sm lg:text-base",children:[(0,n.jsx)("span",{children:"KRW"}),(0,n.jsx)(j,{className:"h-4 w-4 lg:h-5 lg:w-5 mx-1.5 lg:mx-2 text-slate-500"}),(0,n.jsx)("span",{children:h.currency})]}),(0,n.jsx)("div",{className:"absolute left-1/2 -translate-x-1/2 top-full w-0 h-0 border-l-[8px] border-l-transparent border-r-[8px] border-r-transparent border-t-[8px] border-t-[#FEF3C7]"})]})}),(0,n.jsx)("button",{type:"submit",className:"w-full h-14 lg:h-16 rounded-xl lg:rounded-2xl bg-gradient-to-r from-cyan-400 to-indigo-600 text-white font-bold text-lg lg:text-xl shadow-lg shadow-indigo-500/30 transition-all duration-200 hover:scale-105 hover:shadow-xl",children:e(l?"compare_again_button":"compare_button")})]})]})]})}),(0,n.jsx)("div",{ref:d,className:"w-full mt-8 lg:mt-0 transition-opacity duration-500",style:{opacity:l?1:0,maxHeight:l?"2000px":"0"},children:l&&(0,n.jsx)(C,{queryParams:c,t:e,onCompareAgain:()=>{f(),s(!1),window.scrollTo({top:0,behavior:"smooth"})}})})]})})]})})}},1163:function(e,t,l){e.exports=l(3079)}},function(e){e.O(0,[888,774,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);