[build]
  base = "frontend"
  command = "npm install --include=dev && npm run build"
  publish = ".next"

[build.environment]
  # ✅ Netlify 빌드 환경 변수 설정
  NEXT_PUBLIC_API_URL = "https://remitbuddy-production.up.railway.app"

  # ✅ Next.js Telemetry 비활성화 (속도 향상)
  NEXT_TELEMETRY_DISABLED = "1"

[[plugins]]
  package = "@netlify/plugin-nextjs"

# ✅ 리다이렉트 설정 (Next.js SPA 라우팅용)
[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200

# ✅ 404 페이지 설정
[[redirects]]
  from = "/404"
  to = "/404.html"
  status = 404
