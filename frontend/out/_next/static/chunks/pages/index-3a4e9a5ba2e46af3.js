(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return l(9828)}])},9828:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return m}});var s=l(5893),n=l(7294);let r="https://sendhome.onrender.com",a=e=>{let{className:t}=e;return(0,s.jsx)("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3,children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})},o=e=>{let{className:t}=e;return(0,s.jsxs)("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 16 16",stroke:"currentColor",children:[(0,s.jsx)("path",{strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",d:"M3.33301 8H12.6663"}),(0,s.jsx)("path",{strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",d:"M8 3.33331L12.6667 7.99998L8 12.6666"})]})},c={en:{title:"How much should your<br/>family receive?",subtitle:"We'll find the best exchange rate for you",amount_to_receive:"Amount to Receive",compare_button:"Find out the Best Rate",compare_again_button:"New Comparison",best_rate_badge:"Best Rate",real_time_summary:"Real-time Summary",loading_text:"Comparing rates...",fee:"Fee",error_title:"Oops! Something went wrong.",error_message:"We couldn't fetch the remittance data. Please try again later.",select_country_title:"Select Country",total_needed:"You Send (est.)"},ko:{title:"가족이 받을 금액은<br/>얼마인가요?",subtitle:"최고의 환율을 찾아드릴게요",amount_to_receive:"받는 금액",compare_button:"최고 환율 찾아보기",compare_again_button:"새로 비교하기",best_rate_badge:"최고 환율",real_time_summary:"실시간 비교 결과",loading_text:"환율을 비교 중입니다...",fee:"수수료",error_title:"오류가 발생했습니다.",error_message:"송금 정보를 가져오는 데 실패했습니다. 잠시 후 다시 시도해주세요.",select_country_title:"국가 선택",total_needed:"예상 총 필요 원화"}},i=e=>t=>{var l;return(null===(l=c[e])||void 0===l?void 0:l[t])||t},d=[{code:"VN",currency:"VND",name:"Vietnam",flag:"/images/flags/vn.png"},{code:"PH",currency:"PHP",name:"Philippines",flag:"/images/flags/ph.png"},{code:"KH",currency:"KHR",name:"Cambodia",flag:"/images/flags/kh.png"},{code:"MM",currency:"MMK",name:"Myanmar",flag:"/images/flags/mm.png"},{code:"TH",currency:"THB",name:"Thailand",flag:"/images/flags/th.png"},{code:"UZ",currency:"UZS",name:"Uzbekistan",flag:"/images/flags/uz.png"},{code:"ID",currency:"IDR",name:"Indonesia",flag:"/images/flags/id.png"},{code:"LK",currency:"LKR",name:"SriLanka",flag:"/images/flags/lk.png"},{code:"BD",currency:"BDT",name:"Bangladesh",flag:"/images/flags/bd.png"},{code:"NP",name:"Nepal",currency:"NPR",flag:"/images/flags/np.png"}],g=e=>{let{providerData:t,isBest:l,currency:n,t:r}=e,{provider:a,recipient_gets:o,exchange_rate:c,fee:i}=t;return(0,s.jsxs)("a",{href:t.link,target:"_blank",rel:"noopener noreferrer",className:"block w-full p-4 lg:p-6 mb-3 lg:mb-4 bg-white border rounded-xl lg:rounded-2xl shadow-sm transition-all duration-200 hover:scale-[1.02] hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 ".concat(l?"border-emerald-500 border-2":"border-slate-200"),children:[(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsx)("h3",{className:"text-xl lg:text-2xl font-bold text-slate-800",children:a}),l&&(0,s.jsx)("span",{className:"text-xs lg:text-sm font-semibold text-white bg-emerald-500 px-3 py-1 lg:px-4 lg:py-2 rounded-full",children:r("best_rate_badge")})]}),(0,s.jsxs)("div",{className:"mt-3 lg:mt-4",children:[(0,s.jsx)("p",{className:"text-sm lg:text-base text-slate-500",children:r("amount_to_receive")}),(0,s.jsxs)("p",{className:"text-2xl lg:text-3xl font-extrabold text-indigo-600",children:[Math.round(o).toLocaleString("en-US"),(0,s.jsx)("span",{className:"ml-2 text-xl lg:text-2xl font-bold text-slate-700",children:n})]})]}),(0,s.jsxs)("div",{className:"mt-3 lg:mt-4 text-xs lg:text-sm text-slate-500 flex flex-col lg:flex-row lg:items-center gap-1 lg:gap-0",children:[(0,s.jsxs)("span",{children:["1 KRW ≈ ",c.toFixed(4)," ",n]}),(0,s.jsx)("span",{className:"hidden lg:inline mx-2",children:"|"}),(0,s.jsxs)("span",{children:[r("fee"),": ",i.toLocaleString()," KRW"]})]})]})},u=e=>{let{setSelectedCountry:t,setShowDropdown:l,t:n,onCountryChange:r}=e;return(0,s.jsx)("div",{className:"absolute top-full right-0 mt-2 w-[280px] lg:w-[320px] h-auto max-h-[60vh] bg-white rounded-xl lg:rounded-2xl shadow-2xl border border-slate-100 flex flex-col overflow-hidden z-40",children:(0,s.jsx)("div",{className:"flex-1 overflow-y-auto",children:d.map(e=>(0,s.jsxs)("div",{className:"flex items-center gap-3 px-4 lg:px-6 py-3 lg:py-4 cursor-pointer hover:bg-gray-50 text-lg",onClick:()=>{t(e),l(!1),r(e)},children:[(0,s.jsx)("img",{src:e.flag,alt:"".concat(e.name," flag"),width:"28",height:"28",className:"rounded-full"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-bold text-sm lg:text-base text-slate-800",children:e.name}),(0,s.jsx)("div",{className:"text-gray-500 text-xs lg:text-sm",children:e.currency})]})]},e.code))})})};function x(e){let{queryParams:t,t:l,onCompareAgain:a}=e,[o,c]=(0,n.useState)([]),[i,d]=(0,n.useState)(!0),[u,x]=(0,n.useState)(null);(0,n.useEffect)(()=>{t.receive_country&&(async()=>{d(!0),x(null),c([]),console.log("\uD83D\uDD25 FORCE DEBUG - Component Version:",Date.now()),console.log("\uD83D\uDD25 FORCE_API_BASE_URL:",r),console.log("\uD83D\uDD25 Query Params:",t);let e="".concat(r,"/api/getRemittanceQuote?receive_country=").concat(t.receive_country,"&receive_currency=").concat(t.receive_currency,"&send_amount=").concat(t.send_amount);if(console.log("\uD83C\uDFAF Final API URL:",e),!e.includes("sendhome.onrender.com")){console.error("\uD83D\uDEA8 CRITICAL ERROR: URL is not using correct domain!"),x("Configuration error: Invalid API URL detected"),d(!1);return}try{console.log("\uD83D\uDD0D Starting API call...");let t=await fetch(e,{method:"GET",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(console.log("\uD83D\uDCCA Response details:",{status:t.status,ok:t.ok,url:t.url,statusText:t.statusText}),!t.ok){let e=await t.text();throw console.error("❌ API Error Response:",e),Error("API Error: ".concat(t.status," - ").concat(t.statusText))}let l=await t.json();console.log("✅ API Success Response:",l),l.results&&l.results.length>0?c(l.results):x("No exchange rate providers available")}catch(e){console.error("\uD83D\uDEA8 Fetch Error Details:",{name:e.name,message:e.message,stack:e.stack}),e.message.includes("127.0.0.1")||e.message.includes("localhost")?x("CRITICAL: Code deployment failed. Still using localhost."):"TypeError"===e.name&&e.message.includes("Failed to fetch")?x("Network error: Cannot connect to server. Please check your internet connection."):e.message.includes("CORS")?x("CORS error: Server configuration issue."):x("API Error: ".concat(e.message))}finally{d(!1)}})()},[t]);let m=(0,n.useMemo)(()=>o&&0!==o.length?o[0]:null,[o]),h=()=>(0,s.jsxs)("div",{className:"w-full p-4 lg:p-6 mb-3 lg:mb-4 bg-white border border-slate-200 rounded-xl lg:rounded-2xl shadow-sm animate-pulse",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("div",{className:"h-6 lg:h-8 bg-slate-300 rounded-md w-1/3"}),(0,s.jsx)("div",{className:"h-4 lg:h-6 bg-slate-300 rounded-md w-1/4"})]}),(0,s.jsx)("div",{className:"mt-4 lg:mt-6 h-8 lg:h-10 bg-slate-300 rounded-md w-1/2"}),(0,s.jsx)("div",{className:"mt-2 lg:mt-3 h-4 lg:h-5 bg-slate-300 rounded-md w-3/4"})]});return(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsxs)("div",{className:"bg-white/80 backdrop-blur-lg p-4 lg:p-6 rounded-2xl lg:rounded-3xl shadow-lg mb-6 lg:mb-8 sticky top-4 z-10",children:[(0,s.jsx)("h2",{className:"text-sm lg:text-base font-semibold text-slate-500",children:l("real_time_summary")}),(0,s.jsxs)("p",{className:"text-xl lg:text-2xl font-bold text-slate-800 flex items-center",children:[parseInt(t.send_amount).toLocaleString()," KRW → ",t.receive_country]}),i&&(0,s.jsx)("p",{className:"text-xs lg:text-sm text-indigo-500 mt-1 animate-pulse",children:l("loading_text")})]}),u&&(0,s.jsxs)("div",{className:"text-center p-8 lg:p-12 bg-red-50 border border-red-200 rounded-lg lg:rounded-2xl",children:[(0,s.jsx)("h3",{className:"text-xl lg:text-2xl font-bold text-red-700",children:l("error_title")}),(0,s.jsx)("p",{className:"text-red-600 mt-2 text-sm lg:text-base",children:u}),(0,s.jsxs)("div",{className:"mt-4 lg:mt-6 space-x-2 lg:space-x-4",children:[(0,s.jsx)("button",{onClick:()=>window.location.reload(),className:"px-4 lg:px-6 py-2 lg:py-3 bg-red-600 text-white rounded-lg lg:rounded-xl hover:bg-red-700 transition text-sm lg:text-base",children:"새로고침"}),(0,s.jsx)("button",{onClick:()=>{console.log("\uD83D\uDD27 Manual debug info:"),console.log("FORCE_API_BASE_URL:",r),console.log("Current URL:",window.location.href),console.log("User agent:",navigator.userAgent)},className:"px-4 lg:px-6 py-2 lg:py-3 bg-blue-600 text-white rounded-lg lg:rounded-xl hover:bg-blue-700 transition text-sm lg:text-base",children:"디버그 정보"})]})]}),(0,s.jsx)("div",{className:"space-y-3 lg:space-y-4",children:i?[,,,,,].fill(0).map((e,t)=>(0,s.jsx)(h,{},t)):o.map(e=>(0,s.jsx)(g,{providerData:e,isBest:m&&e.provider===m.provider,currency:t.receive_currency,t:l},e.provider))}),(0,s.jsx)("button",{onClick:a,className:"mt-8 lg:mt-12 w-full bg-slate-200 text-slate-700 font-bold py-3 lg:py-4 px-4 lg:px-6 rounded-lg lg:rounded-xl hover:bg-slate-300 focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2 transition text-base lg:text-lg",children:l("compare_again_button")})]})}function m(){let[e,t]=(0,n.useState)("en"),l=i(e),[c,g]=(0,n.useState)(!1),[m,h]=(0,n.useState)({}),p=(0,n.useRef)(null),[f,b]=(0,n.useState)("1000000"),[w,v]=(0,n.useState)(!1),[j,_]=(0,n.useState)(d[0]),y=(0,n.useRef)(null);return(0,n.useEffect)(()=>{console.log("\uD83D\uDEA8 MainPage Component Loaded"),console.log("\uD83D\uDEA8 FORCE_API_BASE_URL:",r),console.log("\uD83D\uDEA8 Current timestamp:",new Date().toISOString()),console.log("\uD83D\uDEA8 Window location:",window.location.href)},[]),(0,n.useEffect)(()=>{function e(e){y.current&&!y.current.contains(e.target)&&v(!1)}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[y]),(0,n.useEffect)(()=>{c&&p.current&&p.current.scrollIntoView({behavior:"smooth",block:"start"})},[c]),(0,n.useEffect)(()=>{j&&f&&c&&h({receive_country:j.name,receive_currency:j.currency,send_amount:f})},[f,j,c]),(0,s.jsx)("div",{className:"bg-[#F5F7FA] min-h-screen font-sans flex flex-col items-center pt-8 px-4 lg:px-8",children:(0,s.jsxs)("div",{className:"w-full max-w-sm lg:max-w-6xl xl:max-w-7xl mx-auto",children:[(0,s.jsxs)("header",{className:"w-full flex items-center mb-10 lg:mb-16 pl-2",children:[(0,s.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"lg:w-8 lg:h-8",children:[(0,s.jsx)("path",{d:"M5 20L19 12L5 4V20Z",fill:"url(#paint0_linear_header_page)"}),(0,s.jsx)("defs",{children:(0,s.jsxs)("linearGradient",{id:"paint0_linear_header_page",x1:"5",y1:"4",x2:"25",y2:"24",gradientUnits:"userSpaceOnUse",children:[(0,s.jsx)("stop",{stopColor:"#4F46E5"}),(0,s.jsx)("stop",{offset:"1",stopColor:"#06B6D4"})]})})]}),(0,s.jsx)("span",{className:"text-2xl lg:text-4xl font-extrabold text-[#1E293B] ml-2 lg:ml-4",children:"SendHome"})]}),(0,s.jsx)("main",{className:"w-full",children:(0,s.jsxs)("div",{className:"w-full lg:grid lg:grid-cols-2 lg:gap-12 xl:gap-16",children:[(0,s.jsx)("div",{className:"w-full lg:sticky lg:top-8 lg:h-fit",children:(0,s.jsxs)("div",{className:"bg-white rounded-[28px] lg:rounded-[32px] shadow-2xl shadow-slate-200/60 p-6 sm:p-8 lg:p-12 flex flex-col items-center",children:[(0,s.jsx)("h1",{className:"text-center text-slate-800 text-3xl sm:text-4xl lg:text-5xl xl:text-6xl font-extrabold mb-8 lg:mb-12 leading-tight",dangerouslySetInnerHTML:{__html:l("title")}}),(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),console.log("\uD83D\uDD25 Form submitted, API URL will be:",r),j&&f&&(h({receive_country:j.name,receive_currency:j.currency,send_amount:f}),g(!0))},className:"w-full",children:[(0,s.jsx)("label",{className:"w-full text-left text-sm lg:text-base font-semibold text-slate-800 mb-2 lg:mb-3 block",children:"You Send (KRW)"}),(0,s.jsxs)("div",{className:"relative w-full mb-5 lg:mb-8",ref:y,children:[(0,s.jsx)("input",{type:"text",value:parseInt(f||"0").toLocaleString(),onChange:e=>{let t=e.target.value.replace(/,/g,"");!isNaN(t)&&t.length<=10&&b(t)},className:"w-full h-16 lg:h-20 rounded-xl lg:rounded-2xl bg-[#F8FAFC] border-2 border-[#E2E8F0] px-4 lg:px-6 text-2xl lg:text-3xl font-bold focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none pr-32 lg:pr-40"}),(0,s.jsxs)("div",{className:"absolute right-2 lg:right-3 top-2 lg:top-2.5",children:[(0,s.jsxs)("button",{type:"button",className:"flex items-center justify-between gap-2 lg:gap-3 px-3 lg:px-4 h-12 lg:h-16 bg-white border border-[#E2E8F0] rounded-lg lg:rounded-xl hover:bg-slate-50 transition-colors",onClick:()=>v(e=>!e),children:[(0,s.jsx)("img",{src:j.flag,alt:"".concat(j.name," flag"),width:28,height:28,className:"rounded-full lg:w-8 lg:h-8"}),(0,s.jsx)("span",{className:"mx-1 lg:mx-2 font-semibold text-slate-800 text-sm lg:text-base",children:j.currency}),(0,s.jsx)(a,{className:"h-4 w-4 lg:h-5 lg:w-5 text-slate-600"})]}),w&&(0,s.jsx)(u,{setSelectedCountry:_,setShowDropdown:v,t:l,onCountryChange:e=>{console.log("\uD83D\uDD25 Country changed to:",e.name),f&&(h({receive_country:e.name,receive_currency:e.currency,send_amount:f}),g(!0))}})]})]}),(0,s.jsx)("div",{className:"text-slate-500 text-center text-base lg:text-lg mb-6 lg:mb-10",children:l("subtitle")}),(0,s.jsxs)("div",{className:"relative pt-10 lg:pt-16",children:[(0,s.jsx)("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-auto whitespace-nowrap",children:(0,s.jsxs)("div",{className:"relative bg-[#FEF3C7] rounded-full py-1.5 lg:py-2 px-4 lg:px-6",children:[(0,s.jsxs)("span",{className:"flex items-center text-slate-600 font-semibold text-sm lg:text-base",children:[(0,s.jsx)("span",{children:"KRW"}),(0,s.jsx)(o,{className:"h-4 w-4 lg:h-5 lg:w-5 mx-1.5 lg:mx-2 text-slate-500"}),(0,s.jsx)("span",{children:j.currency})]}),(0,s.jsx)("div",{className:"absolute left-1/2 -translate-x-1/2 top-full w-0 h-0 border-l-[8px] border-l-transparent border-r-[8px] border-r-transparent border-t-[8px] border-t-[#FEF3C7]"})]})}),(0,s.jsx)("button",{type:"submit",className:"w-full h-14 lg:h-16 rounded-xl lg:rounded-2xl bg-gradient-to-r from-cyan-400 to-indigo-600 text-white font-bold text-lg lg:text-xl shadow-lg shadow-indigo-500/30 transition-all duration-200 hover:scale-105 hover:shadow-xl",children:l("compare_button")})]})]})]})}),(0,s.jsx)("div",{ref:p,className:"w-full mt-8 lg:mt-0 transition-opacity duration-500",style:{opacity:c?1:0,maxHeight:c?"2000px":"0"},children:c&&(0,s.jsx)(x,{queryParams:m,t:l,onCompareAgain:()=>{g(!1),window.scrollTo({top:0,behavior:"smooth"})}})})]})})]})})}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);